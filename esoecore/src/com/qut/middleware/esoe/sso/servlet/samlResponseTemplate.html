<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>ESOE secure session establishment</title>

<!-- This file is specially formatted with addition escape characters for Java MessageFormatter edit with care -->

<style type="text/css">
body '{'
  background-color: #fff;
  font-size: 100.01%;
  font-weight: normal;
  font-family: arial, verdana, helvetica, sans-serif;
  margin: 10px;
  padding: 0;
  color: #000;
  text-align: center;
'}'

h1 '{'
  font-size: 40px;
  font-weight: bold;
  margin: 1em 0;
  color:  #cccccc;
  text-align: center;
'}'

a '{'
text-decoration: none;
'}'

div#nonjavascript
'{'
  	margin: 0px 20px 0px 20px;
	display: block;
'}'

div#main 
'{'
  width: 600px;
  margin-left: auto;
  margin-right: auto;
  text-align: left;
'}'

</style>

<script>
function enableAutoSubmit(name)
'{' 
   index = document.cookie.indexOf(name + ''='');
         
    if(index > -1)
       return 1;
       
    return 0;
'}'

function deleteCookie(name)
'{'
	var expires = new Date();
	expires.setUTCFullYear(expires.getUTCFullYear() - 1);
	document.cookie = name + ''=; expires='' + expires.toUTCString() + ''; path=/'';
'}'

function loader()
'{'
        var el = document.getElementById(''nonjavascript'');
        el.style.display = ''none'';
        
        var submit = enableAutoSubmit(''esoeAutoSubmit'');
        if(submit == 1)
        '{'
        	deleteCookie(''esoeAutoSubmit'');
        	document.samlResponse.submit()
        '}'
 '}'

function toggle()
    '{'
        var el = document.getElementById(''nonjavascript'');
        if ( el.style.display != ''none'' )
        '{'
            el.style.display = ''none'';
        '}'
        else
        '{'
            el.style.display = ''block'';
        '}'
    '}'
</script>

</head>
<body onLoad="loader()">

<div id="main">
	<h1> Security Verified </h1>
	<p>The resource you are accessing has been identified as secure content.</p>
	<p/>
	<p>This site has verified your digital identity and is currently creating your session
		<ul>
			<li>For most web browsers this process is automatic, you will be taken to your original resource upon completion.</li>
			<li>The session creation process is <strong>encrypted</strong> to protect your digital identity.</li>
			<li>The session creation process should take no more than 20 seconds to complete.</li>
			<li>The session creation process is required only once per session for each unique site you visit</li>
		</ul>
	</p>
	<br/>
	<noscript>
		<p>Your browser does not support Javascript or it is not enabled. For the best experience we recommend you <strong>enable Javascript for this site</strong> or change to a Javascript enabled browser. You <strong>MUST</strong> manually click the button below.</p>
	</noscript>
	<br/>
	<p>If you''re navigating using the browser back or forward buttons you can safely skip over this page, your session is already valid and won''t be affected.</p>
	<br/>
	<br/>
	<p><small>If you''re having problems, or using an older browser please see the <a href="#" onclick="toggle( ) ; return false">extended functionality</small></a>.</p>
	
	<form method="post" action="{0}" name="samlResponse">
		<input type = "hidden" name="SAMLResponse" value="{1}"/>
		<input type = "hidden" name="RelayState" value="{2}"/>
		<div id="nonjavascript">
			<ul>
			<li><p>Some common causes of requiring this extended functionality include having <strong>javascript</strong> or <strong>cookies</strong> disabled. Please ensure both of these technologies are enabled in your browser</p></li>
			<li>
				<p><small>If the automated process is not functioning for you please click this button: <input type="submit" value="Establish Session" /></small></p>
			</li>
			<li><small>If you continue to have problems please report these to your local helpdesk or computer support professional, include as much detail as possible including the date and time of the problem, the type of computer you use and the version of web browser you''re using.</small></li>
			</ul>
		</div>
	</form>
</div>
</body>
</html>
