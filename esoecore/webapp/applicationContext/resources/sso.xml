<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd">

	<bean id="ssoProcessor"
		class="com.qut.middleware.esoe.sso.impl.SSOProcessorImpl">
		<constructor-arg index="0" ref="samlValidator" />
		<constructor-arg index="1" ref="sessionsProcessor" />
		<constructor-arg index="2" ref="metadata" />
		<constructor-arg index="3" ref="identifierGenerator" />
		<constructor-arg index="4" ref="metadata" />
		<constructor-arg index="5" ref="esoeKeyStoreResolver" />
		<constructor-arg index="6" value="${sso.allowedActiveAuthSkew}" />
		<constructor-arg index="7"
			value="${sso.sessionRemainingLength}" />
		<constructor-arg index="8"
			value="${sso.acceptUnsignedAuthnRequests}" />
		<constructor-arg index="9">
			<map>
				<entry>
					<key>
						<value>${identifier.unspecified}</value>
					</key>
					<value>${identifier.unspecified.value}</value>
				</entry>
				<entry>
					<key>
						<value>${identifier.emailAddress}</value>
					</key>
					<value>${identifier.emailAddress.value}</value>
				</entry>
				<entry>
					<key>
						<value>${identifier.X509SubjectName}</value>
					</key>
					<value>${identifier.X509SubjectName.value}</value>
				</entry>
				<entry>
					<key>
						<value>
							${identifier.windowsDomainQualName}
						</value>
					</key>
					<value>
						${identifier.windowsDomainQualName.value}
					</value>
				</entry>
				<entry>
					<key>
						<value>${identifier.kerberos}</value>
					</key>
					<value>${identifier.kerberos.value}</value>
				</entry>
				<entry>
					<key>
						<value>${identifier.persistent}</value>
					</key>
					<value>${identifier.persistent.value}</value>
				</entry>
			</map>
		</constructor-arg>
		<constructor-arg index="10" value="${sso.esoeIdentifier}"/>
        <constructor-arg index="11" value="${redis.redisHostname}"/>
        <constructor-arg index="12" value="${redis.redisPort}"/>
        <constructor-arg index="13" value="${redis.redisPassword}"/>
        <constructor-arg index="14" value="${redis.redisExpireInterval}"/>
	</bean>

</beans>